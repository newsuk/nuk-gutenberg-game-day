/*! For license information please see block.js.LICENSE.txt */
(()=>{"use strict";var e={228:e=>{var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,i,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var s in a=Object(arguments[l]))r.call(a,s)&&(c[s]=a[s]);if(t){i=t(a);for(var f=0;f<i.length;f++)n.call(a,i[f])&&(c[i[f]]=a[i[f]])}}return c}},287:(e,t,r)=>{var n=r(228),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103;o&&Symbol.for("react.portal"),o&&Symbol.for("react.fragment"),o&&Symbol.for("react.strict_mode"),o&&Symbol.for("react.profiler"),o&&Symbol.for("react.provider"),o&&Symbol.for("react.context"),o&&Symbol.for("react.forward_ref"),o&&Symbol.for("react.suspense"),o&&Symbol.for("react.memo"),o&&Symbol.for("react.lazy"),"function"==typeof Symbol&&Symbol.iterator;function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l={};function s(e,t,r){this.props=e,this.context=t,this.refs=l,this.updater=r||c}function f(){}function u(e,t,r){this.props=e,this.context=t,this.refs=l,this.updater=r||c}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(i(85));this.updater.enqueueSetState(this,e,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=s.prototype;var p=u.prototype=new f;p.constructor=u,n(p,s.prototype),p.isPureReactComponent=!0;var m=null,y=Object.prototype.hasOwnProperty,h={key:!0,ref:!0,__self:!0,__source:!0};t.createElement=function(e,t,r){var n,o={},i=null,c=null;if(null!=t)for(n in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(i=""+t.key),t)y.call(t,n)&&!h.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var s=Array(l),f=0;f<l;f++)s[f]=arguments[f+2];o.children=s}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:a,type:e,key:i,ref:c,props:o,_owner:m}}},540:(e,t,r)=>{e.exports=r(287)}},t={};function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var n=function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(540),o=wp.blocks.registerBlockType,a=wp.components.TextControl,i=wp.element,c=i.useState,l=i.useEffect;o("ts-weather-forecast/block",{title:"Weather Forecast",icon:"cloud",category:"widgets",attributes:{city:{type:"string",default:"London"},date:{type:"string",default:(new Date).toISOString().split("T")[0]},weather:{type:"object",default:{}}},edit:function(e){var t,o,i=e.attributes,s=e.setAttributes,f=i.city,u=i.date,p=i.weather,m=(t=c(!1),o=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,o)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=m[0],h=m[1];return l((function(){f&&u&&(h(!0),fetch("/wp-json/ts-weather-forecast/v1/weather?city=".concat(f,"&date=").concat(u)).then((function(e){return e.json()})).then((function(e){s({weather:e}),h(!1)})))}),[f,u]),(0,n.createElement)("div",{className:"weather-forecast-block"},(0,n.createElement)(a,{className:"city-input",label:"Enter the City",value:f,onChange:function(e){return s({city:e})}}),(0,n.createElement)(a,{className:"date-input",label:"Enter the Date (YYYY-MM-DD)",value:u,onChange:function(e){return s({date:e})}}),(0,n.createElement)("h4",null,"Weather forecast of ",f," on ",u),y?(0,n.createElement)("p",{className:"loading"},"Loading..."):p.main&&(0,n.createElement)("div",{className:"weather-info"},(0,n.createElement)("p",{className:"temperature"},(0,n.createElement)("img",{src:"http://openweathermap.org/img/w/10d.png",alt:"Weather icon"})," ",p.main.temp," °C"),(0,n.createElement)("p",{className:"condition"},p.weather[0].description)))},save:function(e){var t=e.attributes,r=t.city,o=t.date,a=t.weather;return(0,n.createElement)("div",{className:"weather-forecast-block"},(0,n.createElement)("h2",null,"Weather forecast of ",r," on ",o),a.main&&(0,n.createElement)("div",{className:"weather-info"},(0,n.createElement)("p",{className:"temperature"},(0,n.createElement)("img",{src:"http://openweathermap.org/img/w/10d.png",alt:"Weather icon"})," ",a.main.temp," °C"),(0,n.createElement)("p",{className:"condition"},a.weather[0].description)))}})})();